(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-refund-detail"],{"0ba2":function(e,t,a){"use strict";a.r(t);var i=a("55b5"),s=a("7343");for(var d in s)"default"!==d&&function(e){a.d(t,e,(function(){return s[e]}))}(d);a("ed64");var n,r=a("f0c5"),l=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"1b2ef2bd",null,!1,i["a"],n);t["default"]=l.exports},"14b5":function(e,t,a){var i=a("2465");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("4f06").default;s("ec819ff8",i,!0,{sourceMap:!1,shadowMode:!1})},2465:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 引入uView全局scss变量文件 */.detail-header[data-v-1b2ef2bd]{position:relative;width:100%;height:%?140?%}.detail-header .header-backdrop[data-v-1b2ef2bd]{width:100%;position:absolute;top:0;left:0;z-index:0}.detail-header .header-backdrop .image[data-v-1b2ef2bd]{display:block;width:100%;height:%?140?%}.header-state[data-v-1b2ef2bd]{z-index:1;padding:0 %?50?%}\r\n/* 商品详情 */.detail-goods[data-v-1b2ef2bd]{padding:%?24?% %?20?%}.detail-goods .left .goods-image[data-v-1b2ef2bd]{display:block;width:%?150?%;height:%?150?%}.detail-goods .right[data-v-1b2ef2bd]{padding-left:%?20?%}.detail-goods .goods-props[data-v-1b2ef2bd]{margin-top:%?14?%;height:%?40?%;color:#ababab;font-size:%?24?%;overflow:hidden}.detail-goods .goods-props .goods-props-item[data-v-1b2ef2bd]{display:inline-block;margin-right:%?14?%;padding:%?4?% %?16?%;border-radius:%?12?%;background-color:#f5f5f5;width:auto}.detail-order[data-v-1b2ef2bd]{padding:%?15?% %?20?%;font-size:%?26?%}.detail-order .item[data-v-1b2ef2bd]{margin-bottom:%?10?%}.detail-order .item[data-v-1b2ef2bd]:last-child{margin-bottom:0}\r\n/* 售后详情 */.detail-refund[data-v-1b2ef2bd]{padding:%?15?% %?20?%}.detail-refund__row[data-v-1b2ef2bd]{margin:%?20?% 0}\r\n/* 申请凭证 */.image-list[data-v-1b2ef2bd]{margin-bottom:%?-15?%}.image-list .image-preview[data-v-1b2ef2bd]{margin:0 %?15?% %?15?% 0;float:left}.image-list .image-preview .image[data-v-1b2ef2bd]{display:block;width:%?180?%;height:%?180?%}.image-list .image-preview[data-v-1b2ef2bd]:nth-child(3n+0){margin-right:0}\r\n/* 商家收货地址 */.detail-address[data-v-1b2ef2bd]{padding:%?20?% %?34?%}.address-details[data-v-1b2ef2bd]{padding:%?8?% 0;border-bottom:1px solid #eee}.address-details .address-details__row[data-v-1b2ef2bd]{margin:%?14?% 0}.address-tips[data-v-1b2ef2bd]{margin-top:%?16?%;line-height:%?46?%}\r\n/* 填写物流信息 */.detail-express[data-v-1b2ef2bd]{padding:%?10?% %?30?%}.form-group[data-v-1b2ef2bd]{height:%?60?%;margin:%?14?% 0}.form-group .input[data-v-1b2ef2bd]{height:100%;font-size:%?28?%}\r\n/* 底部操作栏 */.footer[data-v-1b2ef2bd]{margin-top:%?60?%}.footer .btn-wrapper[data-v-1b2ef2bd]{height:100%;display:flex;align-items:center;padding:0 %?20?%}.footer .btn-item[data-v-1b2ef2bd]{flex:1;font-size:%?28?%;height:%?80?%;color:#fff;border-radius:%?50?%;display:flex;justify-content:center;align-items:center}.footer .btn-item-main[data-v-1b2ef2bd]{background:linear-gradient(90deg,#f9211c,#ff6335)}.footer .btn-item-main.disabled[data-v-1b2ef2bd]{background:#ff9779}',""]),e.exports=t},"409a":function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("43dc")),d=new s.default([{key:"NORMAL",name:"进行中",value:0},{key:"REJECTED",name:"已拒绝",value:10},{key:"COMPLETED",name:"已完成",value:20},{key:"CANCELLED",name:"已取消",value:30}]);t.default=d},"43dc":function(e,t,a){"use strict";var i=a("4ea4");a("c975"),a("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("d4ec")),d=i(a("bee2")),n=function(){function e(t){var a=this;(0,s.default)(this,e);var i=[],d=[];if(!Array.isArray(t))throw new Error("param is not an array!");t.map((function(e){e.key&&e.name&&(i.push(e.key),d.push(e.value),a[e.key]=e,e.key!==e.value&&(a[e.value]=e))})),this.data=t,this.keyArr=i,this.valueArr=d}return(0,d.default)(e,[{key:"keyOf",value:function(e){return this.data[this.keyArr.indexOf(e)]}},{key:"valueOf",value:function(e){return this.data[this.valueArr.indexOf(e)]}},{key:"getNameByKey",value:function(e){var t=this.keyOf(e);if(!t)throw new Error("No enum constant"+e);return t.name}},{key:"getNameByValue",value:function(e){var t=this.valueOf(e);if(!t)throw new Error("No enum constant"+e);return t.name}},{key:"getValueByKey",value:function(e){var t=this.keyOf(e);if(!t)throw new Error("No enum constant"+e);return t.key}},{key:"getData",value:function(){return this.data}}]),e}(),r=n;t.default=r},"55b5":function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return i}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLoading?e._e():a("v-uni-view",{staticClass:"container p-bottom"},[a("v-uni-view",{staticClass:"detail-header dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"header-backdrop"},[a("v-uni-image",{staticClass:"image",attrs:{src:"/static/order/refund-bg.png"}})],1),a("v-uni-view",{staticClass:"header-state"},[a("v-uni-text",{staticClass:"f-32 col-f"},[e._v(e._s(e.detail.state_text))])],1)],1),a("v-uni-view",{staticClass:"detail-goods b-f m-top20 dis-flex flex-dir-row",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onGoodsDetail(e.detail.orderGoods.goods_id)}}},[a("v-uni-view",{staticClass:"left"},[a("v-uni-image",{staticClass:"goods-image",attrs:{src:e.detail.orderGoods.goods_image}})],1),a("v-uni-view",{staticClass:"right dis-flex flex-box flex-dir-column flex-x-around"},[a("v-uni-view",{staticClass:"goods-name"},[a("v-uni-text",{staticClass:"twoline-hide"},[e._v(e._s(e.detail.orderGoods.goods_name))])],1),a("v-uni-view",{staticClass:"dis-flex col-9 f-24"},[a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-view",{staticClass:"goods-props clearfix"},e._l(e.detail.orderGoods.goods_props,(function(t,i){return a("v-uni-view",{key:i,staticClass:"goods-props-item"},[a("v-uni-text",[e._v(e._s(t.value.name))])],1)})),1)],1),a("v-uni-text",{staticClass:"t-r"},[e._v("×"+e._s(e.detail.orderGoods.total_num))])],1)],1)],1),a("v-uni-view",{staticClass:"detail-order b-f row-block"},[a("v-uni-view",{staticClass:"item dis-flex flex-x-end flex-y-center"},[a("v-uni-text",{},[e._v("商品金额：")]),a("v-uni-text",{staticClass:"col-m"},[e._v("￥"+e._s(e.detail.orderGoods.total_pay_price))])],1)],1),e.detail.status==e.RefundStatusEnum.COMPLETED.value&&10==e.detail.type?a("v-uni-view",{staticClass:"detail-order b-f row-block dis-flex flex-x-end flex-y-center"},[a("v-uni-text",{},[e._v("已退款金额：")]),a("v-uni-text",{staticClass:"col-m"},[e._v("￥"+e._s(e.detail.refund_money))])],1):e._e(),e.detail.status==e.RefundStatusEnum.REJECTED.value?a("v-uni-view",{staticClass:"detail-refund b-f m-top20"},[a("v-uni-view",{staticClass:"detail-refund__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",[e._v("售后类型：")])],1),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-text",[e._v(e._s(e.RefundTypeEnum[e.detail.type].name))])],1)],1),a("v-uni-view",{staticClass:"detail-refund__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",[e._v("申请原因：")])],1),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-text",[e._v(e._s(e.detail.apply_desc))])],1)],1),e.detail.images.length>0?a("v-uni-view",{staticClass:"detail-refund__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",[e._v("申请凭证：")])],1),a("v-uni-view",{staticClass:"image-list flex-box"},e._l(e.detail.images,(function(t,i){return a("v-uni-view",{key:i,staticClass:"image-preview"},[a("v-uni-image",{staticClass:"image",attrs:{mode:"aspectFill",src:t.image_url},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handlePreviewImages(i)}}})],1)})),1)],1):e._e()],1):e._e(),e.detail.status.value==e.RefundStatusEnum.REJECTED.value?a("v-uni-view",{staticClass:"detail-refund b-f m-top20"},[a("v-uni-view",{staticClass:"detail-refund__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",{staticClass:"col-m"},[e._v("拒绝原因：")])],1),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-text",[e._v(e._s(e.detail.refuse_desc))])],1)],1)],1):e._e(),e.detail.audit_status==e.AuditStatusEnum.REVIEWED.value&&e.detail.is_user_send?a("v-uni-view",{staticClass:"detail-address b-f m-top20"},[a("v-uni-view",{staticClass:"detail-address__row address-title"},[a("v-uni-text",{staticClass:"col-m"},[e._v("退货物流信息")])],1),a("v-uni-view",{staticClass:"detail-address__row address-details"},[a("v-uni-view",{staticClass:"address-details__row"},[a("v-uni-text",[e._v("物流公司："+e._s(e.detail.express.express_name))])],1),a("v-uni-view",{staticClass:"address-details__row"},[a("v-uni-text",[e._v("物流单号："+e._s(e.detail.express_no))])],1),a("v-uni-view",{staticClass:"address-details__row"},[a("v-uni-text",[e._v("发货时间："+e._s(e.detail.send_time))])],1)],1)],1):e._e(),e.detail.audit_status==e.AuditStatusEnum.REVIEWED.value?a("v-uni-view",{staticClass:"detail-address b-f m-top20"},[a("v-uni-view",{staticClass:"detail-address__row address-title"},[a("v-uni-text",{staticClass:"col-m"},[e._v("商家退货地址")])],1),a("v-uni-view",{staticClass:"detail-address__row address-details"},[a("v-uni-view",{staticClass:"address-details__row"},[a("v-uni-text",[e._v("收货人："+e._s(e.detail.address.name))])],1),a("v-uni-view",{staticClass:"address-details__row"},[a("v-uni-text",[e._v("联系电话："+e._s(e.detail.address.phone))])],1),a("v-uni-view",{staticClass:"address-details__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",[e._v("详细地址：")])],1),a("v-uni-view",{staticClass:"address flex-box"},[e._l(e.detail.address.region,(function(t,i){return a("v-uni-text",{key:i,staticClass:"region"},[e._v(e._s(t))])})),a("v-uni-text",{staticClass:"detail"},[e._v(e._s(e.detail.address.detail))])],2)],1)],1),a("v-uni-view",{staticClass:"detail-address__row address-tips"},[a("v-uni-view",{staticClass:"f-26 col-9"},[a("v-uni-text",[e._v("· 未与卖家协商一致情况下，请勿寄到付或平邮")])],1),a("v-uni-view",{staticClass:"f-26 col-9"},[a("v-uni-text",[e._v("· 请填写真实有效物流信息")])],1)],1)],1):e._e(),e.detail.type!=e.RefundTypeEnum.RETURN.value||e.detail.audit_status!=e.AuditStatusEnum.REVIEWED.value||e.detail.is_user_send?e._e():a("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onSubmit()}}},[a("v-uni-view",{staticClass:"detail-express b-f m-top20"},[a("v-uni-view",{staticClass:"form-group dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"field"},[e._v("物流公司：")]),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-picker",{attrs:{mode:"selector",range:e.expressList,"range-key":"express_name",value:e.expressIndex},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChangeExpress.apply(void 0,arguments)}}},[e.expressIndex>-1?a("v-uni-text",[e._v(e._s(e.expressList[e.expressIndex].express_name))]):a("v-uni-text",{staticClass:"col-80"},[e._v("请选择物流公司")])],1)],1)],1),a("v-uni-view",{staticClass:"form-group dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"field"},[e._v("物流单号：")]),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-input",{staticClass:"input",attrs:{placeholder:"请填写物流单号"},model:{value:e.formData.expressNo,callback:function(t){e.$set(e.formData,"expressNo",t)},expression:"formData.expressNo"}})],1)],1)],1),a("v-uni-view",{staticClass:"footer"},[a("v-uni-view",{staticClass:"btn-wrapper"},[a("v-uni-button",{staticClass:"btn-item btn-item-main btn-normal",class:{disabled:e.disabled},attrs:{formType:"submit"}},[e._v("确认发货")])],1)],1)],1)],1)},d=[]},7343:function(e,t,a){"use strict";a.r(t);var i=a("b9b8"),s=a.n(i);for(var d in i)"default"!==d&&function(e){a.d(t,e,(function(){return i[e]}))}(d);t["default"]=s.a},"7cd4":function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("43dc")),d=new s.default([{key:"RETURN",name:"退货退款",value:10},{key:"EXCHANGE",name:"换货",value:20}]);t.default=d},a49d:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("43dc")),d=new s.default([{key:"WAIT",name:"待审核",value:0},{key:"REVIEWED",name:"已同意",value:10},{key:"REJECTED",name:"已拒绝",value:20}]);t.default=d},a518:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;var s=i(a("c05a")),d={list:"express/list"},n=function(e){return s.default.get(d.list,e)};t.list=n},b9b8:function(e,t,a){"use strict";var i=a("dbce");a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a("fd9b"),d=i(a("fba8")),n=i(a("a518")),r={data:function(){return{AuditStatusEnum:s.AuditStatusEnum,RefundStatusEnum:s.RefundStatusEnum,RefundTypeEnum:s.RefundTypeEnum,isLoading:!0,orderRefundId:null,detail:{},expressList:[],formData:{expressId:null,expressNo:""},expressIndex:-1,disabled:!1}},onLoad:function(e){var t=e.orderRefundId;this.orderRefundId=t,this.getPageData()},methods:{getPageData:function(){var e=this;e.isLoading=!0,Promise.all([e.getRefundDetail(),e.getExpressList()]).then((function(t){e.isLoading=!1}))},getRefundDetail:function(){var e=this;return new Promise((function(t,a){d.detail(e.orderRefundId).then((function(a){e.detail=a.data.detail,t()})).catch(a)}))},getExpressList:function(){var e=this;return new Promise((function(t,a){n.list().then((function(a){e.expressList=a.data.list,t()})).catch(a)}))},onGoodsDetail:function(e){this.$navTo("pages/goods/detail",{goodsId:e})},handlePreviewImages:function(e){var t=this.detail.images,a=t.map((function(e){return e.image_url}));uni.previewImage({current:a[e],urls:a})},onChangeExpress:function(e){var t=e.detail.value,a=this.expressList;this.expressIndex=t,this.formData.expressId=a[t].express_id},onSubmit:function(){var e=this;if(!0===e.disabled)return!1;e.disabled=!0,d.delivery(e.orderRefundId,e.formData).then((function(t){e.$toast(t.message),setTimeout((function(){e.disabled=!1,uni.navigateBack()}),1500)})).catch((function(t){return e.disabled=!1}))}}};t.default=r},ed64:function(e,t,a){"use strict";var i=a("14b5"),s=a.n(i);s.a},fba8:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.delivery=t.detail=t.apply=t.goods=t.list=void 0;var s=i(a("5530")),d=i(a("c05a")),n={list:"refund/list",goods:"refund/goods",apply:"refund/apply",detail:"refund/detail",delivery:"refund/delivery"},r=function(e,t){return d.default.get(n.list,e,t)};t.list=r;var l=function(e,t){return d.default.get(n.goods,(0,s.default)({orderGoodsId:e},t))};t.goods=l;var u=function(e,t){return d.default.post(n.apply,{orderGoodsId:e,form:t})};t.apply=u;var o=function(e,t){return d.default.get(n.detail,(0,s.default)({orderRefundId:e},t))};t.detail=o;var v=function(e,t){return d.default.post(n.delivery,{orderRefundId:e,form:t})};t.delivery=v},fd9b:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AuditStatusEnum",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"RefundStatusEnum",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"RefundTypeEnum",{enumerable:!0,get:function(){return n.default}});var s=i(a("a49d")),d=i(a("409a")),n=i(a("7cd4"))}}]);